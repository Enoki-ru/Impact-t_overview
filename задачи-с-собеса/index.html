<!doctype html><html><head><title>Задания по стажировки по аналитике</title><base href="../../"><meta id="root-path" root-path="../../"><link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1,maximum-scale=5"><meta charset="UTF-8"><link rel="stylesheet" href="lib/styles/obsidian-styles.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="stylesheet" href="lib/styles/plugin-styles.css"><link rel="stylesheet" href="lib/styles/snippets.css"><link rel="stylesheet" href="lib/styles/generated-styles.css"><style></style><script type="module" src="lib/scripts/graph_view.js"></script><script src="lib/scripts/graph_wasm.js"></script><script src="lib/scripts/tinycolor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js" integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lib/scripts/webpage.js"></script><script src="lib/scripts/generated.js"></script></head><body class="theme-dark show-inline-title loading"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Mindspace</span><button class="clickable-icon collapse-tree-button is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">lessons</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">задачи-с-собеса</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">src</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925112745.png"><span class="tree-item-title">Pasted image 20230925112745</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925130543.png"><span class="tree-item-title">Pasted image 20230925130543</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925130610.png"><span class="tree-item-title">Pasted image 20230925130610</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925133525.png"><span class="tree-item-title">Pasted image 20230925133525</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925135130.png"><span class="tree-item-title">Pasted image 20230925135130</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925143614.png"><span class="tree-item-title">Pasted image 20230925143614</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925152426.png"><span class="tree-item-title">Pasted image 20230925152426</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925171502.png"><span class="tree-item-title">Pasted image 20230925171502</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172006.png"><span class="tree-item-title">Pasted image 20230925172006</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172034.png"><span class="tree-item-title">Pasted image 20230925172034</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172117.png"><span class="tree-item-title">Pasted image 20230925172117</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172142.png"><span class="tree-item-title">Pasted image 20230925172142</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172208.png"><span class="tree-item-title">Pasted image 20230925172208</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925172235.png"><span class="tree-item-title">Pasted image 20230925172235</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925174053.png"><span class="tree-item-title">Pasted image 20230925174053</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925174913.png"><span class="tree-item-title">Pasted image 20230925174913</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/src/pasted-image-20230925174922.png"><span class="tree-item-title">Pasted image 20230925174922</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/задания-по-стажировки-по-аналитике.html"><span class="tree-item-title">Задания по стажировки по аналитике</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/задания-по-стажировки-по-аналитике.pdf"><span class="tree-item-title">задания-по-стажировки-по-аналитике</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/task_b.py"><span class="tree-item-title">task_b</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/task_c.py"><span class="tree-item-title">task_c</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/task_d.py"><span class="tree-item-title">task_d</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="lessons/задачи-с-собеса/task_d_real.py"><span class="tree-item-title">task_d_real</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div></div></div><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div></div><div class="document-container show"><div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties" style="tab-size:4"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section" style="min-height:12391px"><div class="markdown-preview-pusher" style="width:1px;height:.1px;margin-bottom:0"></div><div class="mod-header"><div class="inline-title" data-heading="Задания по стажировки по аналитике" id="Задания_по_стажировки_по_аналитике" style="display:block">Задания по стажировки по аналитике</div></div><div><pre class="frontmatter language-yaml" tabindex="0" style="display:none"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Собеседования
  <span class="token punctuation">-</span> Math
  <span class="token punctuation">-</span> ТеорВер</code><button class="copy-code-button">Копировать</button></pre></div><div class="heading-wrapper"><h2 data-heading="Вступление" class="heading" id="Вступление"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Вступление<div class="heading-after">...</div></h2><div class="heading-children"><div><p><strong>Всем привет!</strong> Сегодня я буду проходить вместе с вами тестирование для отбора кандидатов на <strong>Стажировку от Яндекс</strong>. И, хоть мы в последнее время и изучаем <strong>Data Engineering</strong>, попасть на работу сейчас будет очень полезно. Поэтому давайте начнем, у нас всего лишь <em>6 часов</em>.</p></div><div><p>Попробовать свои силы, и, возможность, стать сотрудников Яднекса можно по прикрепленной ссылке ниже:<br><a data-tooltip-position="top" aria-label="https://yandex.ru/yaintern" rel="noopener" class="external-link" href="https://yandex.ru/yaintern" target="_blank">Нажми Нажми Нажми Нажми Нажми Нажми Нажми Нажми Нажми Нажми</a></p></div><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925174922.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925174922.png"></div><p></p></div><div><p>Приступаем к решению задач!</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Очевидное</div></div><div class="callout-content"><p>Конечно же, я нашел эти задачи в интернете, и не ручаюсь за их достоверность. Весь приведенный материал показывается исключительно в ознакомительных целях, все совпадения случайны, и нигде вообще не написано, что <strong>даже</strong> если вдруг <strong>это я</strong> реально решал эти задачи сам <strong>6 часов</strong> 2023.09.25, то мне что-то за это будет, <strong>отстаньте</strong>.</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 1" class="heading" id="Задача_1"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 1<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172006.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172006.png"></div><p></p></div><div class="heading-wrapper"><h3 data-heading="Примечание" class="heading" id="Примечание"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Примечание<div class="heading-after">...</div></h3><div class="heading-children"><div><p>Думаю, не нужно объяснять код, потому что он максимально структурирован, хоть и не идеален. Я старался максимально разделить код на отдельные микроструктуры.</p></div><div><pre class="language-sqlite" tabindex="0"><code class="language-sqlite is-loaded">with 
t1 AS(
  SELECT *, row_number() over (partition by uuid) full_sessions
  from feed_events
  WHERE event = 'open'),
t2 AS(
  SELECT feed_events.*, t1.full_sessions
  FROM feed_events
  LEFT JOIN t1
  ON t1.uuid=feed_events.uuid
  AND t1.timestamp=feed_events.timestamp),
t3 AS(
  SELECT *
  FROM t2
  ORDER BY uuid asc,timestamp asc),
t4 AS(
  SELECT *,
  coalesce(full_sessions,
          (SELECT max(t3.full_sessions)
           from t3
           where t3.uuid=t3_1.uuid
           AND t3.timestamp&lt;t3_1.timestamp
          
          )) sessions_num
  from t3 t3_1),
t5 as(
  SELECT DISTINCT uuid,sessions_num
  from t4
  where event='click'),
t6 AS(
  SELECT uuid, count(sessions_num) sessions
  from t5
  group by uuid),
t7 as(
  select distinct uuid, min(event) gh
  from t4
  group by uuid
  having min(event)&lt;&gt;'click'
),
t8 as(
  select * from t6
  UNION
  SELECT uuid, 0 sessions
  from t7)
SELECT * from t8
order by sessions desc,uuid asc
LIMIT 10
</code><button class="copy-code-button">Копировать</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 2" class="heading" id="Задача_2"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 2<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172034.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172034.png"></div><p></p></div><div class="heading-wrapper"><h3 data-heading="Пояснение" class="heading" id="Пояснение"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Пояснение<div class="heading-after">...</div></h3><div class="heading-children"><div><p>На самом деле код оказался куда более простым, чем я изначально думал.</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="faq" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">В чем же дело?</div></div><div class="callout-content"><p>Всё дело в том, что <strong>Яндекс</strong> неправильно написал условие задачи.<br>Нас просят найти наличие циклических зависимостей <strong>среди</strong> всех команд. Однако на самом деле нужно найти эти зависимости только среди тех команд, которые перенаправили <strong>Яна</strong> из <strong>его собственной</strong> команды. Ниже код с учетом этого, и он оказался правильным. Дойти до этого можно, но это не очевидно, и выясняет только путем проверочных вброс-тестов.</p></div></div></div><div><pre class="language-python" tabindex="0"><code class="language-python is-loaded">N<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token operator">=</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> b<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
ender<span class="token operator">=</span><span class="token boolean">False</span>
ans<span class="token operator">=</span><span class="token string">'NO'</span>
i<span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> ender<span class="token operator">==</span><span class="token boolean">False</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        ender<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token keyword">if</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>
        ans<span class="token operator">=</span><span class="token string">'YES'</span>
        ender<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token keyword">if</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>
        t<span class="token operator">=</span>i
        i<span class="token operator">=</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        b<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span>
    <span class="token comment"># print(f"{b}")</span>
    

<span class="token keyword">print</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 3" class="heading" id="Задача_3"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 3<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172117.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172117.png"></div><p></p></div><div class="heading-wrapper"><h3 data-heading="Пояснения" class="heading" id="Пояснения"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Пояснения<div class="heading-after">...</div></h3><div class="heading-children"><div><p>Данная задача непомерно сложная по сравнению с другими, так как требует очень долгого анализа и кропотливой работы, потому что ограничение по времени и памяти слишком сильное.</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="tip" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Интересный факт</div></div><div class="callout-content"><p>Данная задача использовалась на олимпиаде <strong>Росатом</strong> 2022-2023 годов. Найти ее можно в данном <a data-tooltip-position="top" aria-label="https://olymp.mephi.ru/content/public/uploads/files/rosatom_inf/2023_task/rosatom_inf_2022-2023_9-10.pdf" rel="noopener" class="external-link" href="https://olymp.mephi.ru/content/public/uploads/files/rosatom_inf/2023_task/rosatom_inf_2022-2023_9-10.pdf" target="_blank">файле</a>, а именно задача №2. Решение там неполное, и очень сложное к пониманию <strong>(Это же не Python 🙂)</strong></p></div></div></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 4" class="heading" id="Задача_4"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 4<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172142.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172142.png"></div><p></p></div><div class="heading-wrapper"><h3 data-heading="Пояснение" class="heading" id="Пояснение"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Пояснение<div class="heading-after">...</div></h3><div class="heading-children"><div><p>Очень интересная задача. Я, наверное, только час думал над тем, какой самый лучший метод нужно использовать для наибольшей вероятности выигрыша. И только спустя час, до меня дошло:</p></div><div><ul><li data-line="0"><strong>Стратегии нет!</strong> От количества пропущенных карт, среднестатистическое отношение простых чисел к общему набору будет оставаться <strong>всегда</strong> прежним! А это в свою очередь значит, что <strong>Аркадий</strong> может останавливать игру в абсолютно любой момент, и в абсолютно любой момент его общая вероятность победы будет оставаться на прежнем уровне, а именно <strong>(Кол-во Простых Чисел) / (Всего чисел)</strong>. Всё, что нам остается сделать (иначе не пройдем по ограничениям), это использовать один из наибыстрейших методов нахождения кол-ва простых чисел, это гуглится, есть быстрые алгоритмы. Ниже один из них.</li></ul></div><div><pre class="language-python" tabindex="0"><code class="language-python is-loaded">n<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">primes</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">""" Returns  a list of primes &lt; n """</span>
    sieve <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">]</span> <span class="token operator">*</span> n
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span>n<span class="token operator">**</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> sieve<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
            sieve<span class="token punctuation">[</span>i<span class="token operator">*</span>i<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token operator">-</span>i<span class="token operator">*</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">if</span> sieve<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

a<span class="token operator">=</span>primes<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
t<span class="token operator">=</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span>a<span class="token operator">/</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>t<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 5" class="heading" id="Задача_5"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 5<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172208.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172208.png"></div><p></p></div><div class="heading-wrapper"><h3 data-heading="Пояснение" class="heading" id="Пояснение"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Пояснение<div class="heading-after">...</div></h3><div class="heading-children"><div><p>Моя самая любимая задача - задача на <strong>Теорию Вероятностей!</strong> Однако тут, в отличии от других задач, много кодить не получится, нужно считать...<br>Вот мои вычисления, был найден мною метод упрощения и сокращения <strong>почти всех элементов произведения обратной вероятности</strong>, что позволяет считать абсолютно для любого числа вероятность (проверял, 100000000 считается за 0.3 секунды, в ограничения заходим).</p></div><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925174053.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925174053.png"></div><p></p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="info" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Что такое Fraction?</div></div><div class="callout-content"><p>Это модуль для оптимального сокращения дробей до неделимых частей. И не надо говорить что нужно самому это делать, я кучу времени про💩л на то чтобы придумать хоть что-то</p></div></div></div><div><pre class="language-python" tabindex="0"><code class="language-python is-loaded"><span class="token keyword">from</span> fractions <span class="token keyword">import</span> Fraction
n<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token operator">=</span><span class="token number">1</span>
b<span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">if</span> n<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">:</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
            a<span class="token operator">*=</span>i<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span>
            b<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                a<span class="token operator">*=</span>i<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span>
                b<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> i<span class="token operator">==</span>n<span class="token punctuation">:</span>
                a<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span>
                b<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                a<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span>
                b<span class="token operator">*=</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    a<span class="token operator">=</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> 
    b<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span>
a<span class="token operator">=</span>b<span class="token operator">-</span>a
<span class="token comment"># print(a,b)</span>
q<span class="token operator">=</span>Fraction<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>numerator<span class="token punctuation">,</span>q<span class="token punctuation">.</span>denominator<span class="token punctuation">)</span>

<span class="token comment"># a*=i*(i+4)*(i+5)</span>
<span class="token comment"># b*=(i+1)*(i+2)*(i+6)</span>
</code><button class="copy-code-button">Копировать</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Задача 6" class="heading" id="Задача_6"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Задача 6<div class="heading-after">...</div></h2><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925172235.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925172235.png"></div><br>Ну, эту задачу для грузчиков даже мне лень решать. <strong>Предлагаю</strong> кому-нибудь взять ее в качестве <strong>самостоятельного изучения</strong>, если кто-нибудь когда-нибудь отправит мне решение этой задачи, я лично вручу ему <strong>100 рублей</strong>. В каком бы <strong>месте мира</strong> он не находился (ну, только договориться надо о встрече).<p></p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="ИТОГО" class="heading" id="ИТОГО"><div class="heading-before"></div>ИТОГО<div class="heading-after">...</div></h1><div class="heading-children"><div><p></p><div src="lessons\задачи-с-собеса\src\pasted-image-20230925171502.png" class="internal-embed media-embed image-embed is-loaded"><img src="lessons\задачи-с-собеса\src\pasted-image-20230925171502.png"></div><p></p></div><div><p>Как видно, я решил всего лишь <strong>4 из 6 задач</strong>, однако я считаю это очень и очень хорошим результатом. Ну и конечно же, <strong>SQLite3</strong> сосёт бибу перед <strong>PostgreSQL</strong>)))))</p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder"><div class="graph-view-container"><div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div><canvas id="graph-canvas" width="512px" height="512px"></canvas></div></div></div><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задания_по_стажировки_по_аналитике"><span class="tree-item-title"><p>Задания по стажировки по аналитике</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Вступление"><span class="tree-item-title"><p>Вступление</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_1"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Задача 1</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Примечание"><span class="tree-item-title"><p>Примечание</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_2"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Задача 2</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Пояснение"><span class="tree-item-title"><p>Пояснение</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_3"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Задача 3</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Пояснения"><span class="tree-item-title"><p>Пояснения</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_4"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Задача 4</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Пояснение"><span class="tree-item-title"><p>Пояснение</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_5"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Задача 5</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Пояснение"><span class="tree-item-title"><p>Пояснение</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Задача_6"><span class="tree-item-title"><p>Задача 6</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#ИТОГО"><span class="tree-item-title"><p>ИТОГО</p></span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div></body></html>